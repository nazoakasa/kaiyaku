<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‰ºöÂì°Ëß£Á¥Ñ„Éö„Éº„Ç∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow: hidden;
        }
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            text-align: center;
            position: relative;
        }
        h1 {
            color: #333;
            margin-bottom: 30px;
            font-size: 28px;
        }
        .message {
            font-size: 18px;
            color: #666;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        .btn-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
            position: relative;
            min-height: 100px;
        }
        button {
            padding: 15px 40px;
            font-size: 16px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            position: relative;
        }
        .cancel-btn {
            background: #ff4757;
            color: white;
        }
        .stay-btn {
            background: #2ecc71;
            color: white;
        }
        .stay-btn:hover {
            background: #27ae60;
            transform: scale(1.05);
        }
        .emoji {
            font-size: 80px;
            margin-bottom: 20px;
            animation: bounce 1s infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        .progress {
            margin-top: 20px;
            font-size: 14px;
            color: #999;
        }
        .discount {
            background: #ffd93d;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-size: 24px;
            font-weight: bold;
            color: #333;
            animation: pulse 1s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0) rotate(0deg); }
            25% { transform: translateX(-10px) rotate(-5deg); }
            75% { transform: translateX(10px) rotate(5deg); }
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-30px); }
        }
        .fake-btn {
            position: absolute;
            padding: 15px 40px;
            font-size: 16px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            background: #ff4757;
            color: white;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="emoji" id="emoji">üòä</div>
        <h1 id="title">Ëß£Á¥ÑÊâãÁ∂ö„Åç</h1>
        <div class="message" id="message">
            Êú¨ÂΩì„Å´Ëß£Á¥Ñ„Åó„Å¶„ÇÇ„Çà„Çç„Åó„ÅÑ„Åß„Åô„Åã?
        </div>
        <div id="extra-content"></div>
        <div class="btn-container" id="btnContainer">
            <button class="stay-btn" id="stayBtn" onclick="stayWithUs()">„ÇÑ„Å£„Å±„ÇäÁ∂ö„Åë„Çã</button>
            <button class="cancel-btn" id="cancelBtn" onclick="nextStep()">Ëß£Á¥Ñ„Åô„Çã</button>
        </div>
        <div class="progress" id="progress">„Çπ„ÉÜ„ÉÉ„Éó 1/21</div>
    </div>

    <script>
        let step = 1;
        let dodgeCount = 0;
        let clickCount = 0;
        let escapeCount = 0;
        const steps = [
            { emoji: 'üòä', title: 'Ëß£Á¥ÑÊâãÁ∂ö„Åç', message: 'Êú¨ÂΩì„Å´Ëß£Á¥Ñ„Åó„Å¶„ÇÇ„Çà„Çç„Åó„ÅÑ„Åß„Åô„Åã?', trick: 'swap' },
            { emoji: 'üò¢', title: '„ÅäÂæÖ„Å°„Åè„Å†„Åï„ÅÑÔºÅ', message: '„Åì„Çå„Åæ„Åß‰∏ÄÁ∑í„Å´ÈÅé„Åî„Åó„ÅüÊôÇÈñì„ÇíÊÄù„ÅÑÂá∫„Åó„Å¶„Åè„Å†„Åï„ÅÑ...', trick: 'shrink' },
            { emoji: 'üéÅ', title: 'ÁâπÂà•„Ç™„Éï„Ç°„ÉºÔºÅ', message: '‰ªä„Å™„Çâ50%„Ç™„Éï„Åß„ÅîÂà©Áî®„ÅÑ„Åü„Å†„Åë„Åæ„ÅôÔºÅ', discount: '50% OFF', trick: 'move' },
            { emoji: 'üò≠', title: '„Åæ„Å†Êó©„ÅÑ„Åß„ÅôÔºÅ', message: 'ÁßÅ„Åü„Å°„ÅÆ„Çµ„Éº„Éì„Çπ„Å´„ÅØ„ÄÅ„Åæ„Å†‰Ωø„Å£„Å¶„ÅÑ„Å™„ÅÑÊ©üËÉΩ„Åå„Åü„Åè„Åï„Çì„ÅÇ„Çä„Åæ„ÅôÔºÅ', trick: 'hide' },
            { emoji: 'üòà', title: 'ÊúÄÂá∂„Éà„É©„ÉÉ„Éó', message: '„ÇØ„É™„ÉÉ„ÇØ„Åß„Åç„Çã„Åã„Å™...Ôºü', trick: 'clickEscape' },
            { emoji: 'üíé', title: 'ÈôêÂÆöÁâπÂÖ∏ÈÄ≤Âëà', message: '„Éó„É¨„Éü„Ç¢„É†‰ºöÂì°„Å´ÁÑ°Êñô„Ç¢„ÉÉ„Éó„Ç∞„É¨„Éº„Éâ„ÅÑ„Åü„Åó„Åæ„ÅôÔºÅ', discount: '„Éó„É¨„Éü„Ç¢„É†ÁÑ°Êñô', trick: 'doubleSwap' },
            { emoji: 'ü•∫', title: '„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô...', message: '„ÅÇ„Å™„Åü„Åå„ÅÑ„Å™„Åè„Å™„Å£„Åü„Çâ„ÄÅÁßÅ„Åü„Å°„ÅØ„Å®„Å¶„ÇÇÂØÇ„Åó„ÅÑ„Åß„Åô...', trick: 'tiny' },
            { emoji: 'üí∞', title: 'ÊúÄÁµÇ„Ç™„Éï„Ç°„ÉºÔºÅ', message: '3„É∂ÊúàÈñìÂÆåÂÖ®ÁÑ°Êñô„Åß„ÅîÂà©Áî®„ÅÑ„Åü„Å†„Åë„Åæ„ÅôÔºÅ', discount: '3„É∂ÊúàÁÑ°Êñô', trick: 'dodge' },
            { emoji: 'üÜò', title: 'Á∑äÊÄ•‰∫ãÊÖãÔºÅ', message: '„ÅÇ„Å™„Åü„ÅÆ„Ç¢„Ç´„Ç¶„É≥„Éà„Å´„ÅØÂ§ßÂàá„Å™„Éá„Éº„Çø„Åå‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇÊú¨ÂΩì„Å´ÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü', trick: 'shake' },
            { emoji: 'üåü', title: 'ÁâπÂà•VIPÂæÖÈÅá', message: '‰ªä„Åô„ÅêVIP‰ºöÂì°„Å´„Å™„Å£„Å¶„ÄÅ„Åô„Åπ„Å¶„ÅÆÊ©üËÉΩ„ÇíÊ∞∏‰πÖ„Å´ÁÑ°Êñô„Åß„ÅîÂà©Áî®„Åè„Å†„Åï„ÅÑÔºÅ', discount: 'VIPÊ∞∏‰πÖÁÑ°Êñô', trick: 'invisible' },
            { emoji: 'üíî', title: 'ÊúÄÂæå„ÅÆ„ÅäÈ°ò„ÅÑ', message: '„Åù„Çå„Åß„ÇÇÊú¨ÂΩì„Å´Ëß£Á¥Ñ„Åï„Çå„Åæ„Åô„Åã...Ôºü', trick: 'spin' },
            { emoji: 'üéØ', title: 'Ë∂ÖÈôêÂÆö„Ç™„Éï„Ç°„Éº', message: '‰ªä„Å†„ÅëÂπ¥Èñì„Éó„É©„É≥90%OFFÔºÅ', discount: '90% OFF', trick: 'multipleButtons' },
            { emoji: 'üò±', title: '„Å°„Çá„Å£„Å®ÂæÖ„Å£„Å¶ÔºÅ', message: '„Åæ„Å†‰ºù„Åà„Å¶„ÅÑ„Å™„ÅÑÁâπÂÖ∏„Åå„ÅÇ„Çä„Åæ„ÅôÔºÅ', trick: 'moveAway' },
            { emoji: 'üé™', title: 'È©ö„Åç„ÅÆÁâπÂÖ∏', message: 'ÂÖ®Ê©üËÉΩÁÑ°Âà∂Èôê„Éó„É¨„Éü„Ç¢„É†ÔºÅ', discount: 'ÁÑ°Âà∂Èôê„Éó„É©„É≥', trick: 'fastMove' },
            { emoji: 'üöÄ', title: '‰ø°„Åò„Çâ„Çå„Å™„ÅÑÔºÅ', message: '„Åì„Çå‰ª•‰∏ä„ÅÆÊù°‰ª∂„ÅØ„ÅÇ„Çä„Åæ„Åõ„ÇìÔºÅ', trick: 'superTiny' },
            { emoji: 'üíù', title: 'ÊÑüË¨ù„ÅÆÊ∞óÊåÅ„Å°', message: '„ÅÇ„Å™„Åü„ÅØÁâπÂà•„Å™„ÅäÂÆ¢Êßò„Åß„Åô', trick: 'hideAndSeek' },
            { emoji: 'üéâ', title: '„É©„Çπ„Éà„ÉÅ„É£„É≥„Çπ', message: '‰∫∫ÁîüÊúÄÂæå„ÅÆ„ÉÅ„É£„É≥„Çπ„Åã„ÇÇ...', discount: 'ÂÖ®ÈÉ®ÁÑ°Êñô', trick: 'crazyMove' },
            { emoji: 'üòá', title: 'Á•û„Ç™„Éï„Ç°„Éº', message: '„ÇÇ„ÅØ„ÇÑÁÑ°Êñô„ÇíË∂Ö„Åà„Åü‰Ωï„Åã', trick: 'rotate' },
            { emoji: 'üåà', title: 'Â•áË∑°„ÅÆÊèêÊ°à', message: '‰Ωø„Åà„Å∞‰Ωø„ÅÜ„Åª„Å©„Éù„Ç§„É≥„ÉàÈÇÑÂÖÉÔºÅ', trick: 'flash' },
            { emoji: '‚≠ê', title: 'ÊúÄÁµÇÂΩ¢ÊÖã', message: '„Åì„Çå„ÅåÊúÄÂæå„Åß„Åô...Êú¨ÂΩì„Å´...', trick: 'chaos' },
            { emoji: 'üí´', title: 'Á©∂Ê•µ„ÅÆÈÅ∏Êäû', message: 'ÂæåÊÇî„Åó„Åæ„Åõ„Çì„ÅãÔºü', trick: 'ultimate' }
        ];

        const cancelBtn = document.getElementById('cancelBtn');
        const stayBtn = document.getElementById('stayBtn');
        const container = document.getElementById('btnContainer');

        function clearTricks() {
            cancelBtn.style = '';
            stayBtn.style = '';
            cancelBtn.onmouseenter = null;
            cancelBtn.onmousemove = null;
            cancelBtn.onmousedown = null;
            cancelBtn.onclick = () => nextStep();
            container.style = '';
            document.querySelectorAll('.fake-btn').forEach(btn => btn.remove());
            dodgeCount = 0;
            clickCount = 0;
            escapeCount = 0;
        }

        function applyTrick(trick) {
            clearTricks();
            
            switch(trick) {
                case 'swap':
                    container.style.flexDirection = 'row-reverse';
                    break;
                
                case 'shrink':
                    cancelBtn.style.padding = '5px 10px';
                    cancelBtn.style.fontSize = '10px';
                    stayBtn.style.padding = '20px 60px';
                    stayBtn.style.fontSize = '20px';
                    break;
                
                case 'move':
                    cancelBtn.onmouseenter = () => {
                        const x = Math.random() * 300 - 150;
                        const y = Math.random() * 150 - 75;
                        cancelBtn.style.transform = `translate(${x}px, ${y}px)`;
                    };
                    break;
                
                case 'hide':
                    cancelBtn.style.opacity = '0.05';
                    cancelBtn.onmouseenter = () => cancelBtn.style.opacity = '0.2';
                    cancelBtn.onmouseleave = () => cancelBtn.style.opacity = '0.05';
                    break;
                
                case 'clickEscape':
                    // „ÇØ„É™„ÉÉ„ÇØ„Åó„Çà„ÅÜ„Å®„Åô„Çã„Å®3ÂõûÈÄÉ„Åí„Å¶„ÄÅ3ÂõûÁõÆ„ÅßÂÖ•„ÇåÊõø„Çè„Çã
                    cancelBtn.onmousedown = (e) => {
                        if (escapeCount < 2) {
                            e.preventDefault();
                            const x = (escapeCount + 1) * 150 * (Math.random() > 0.5 ? 1 : -1);
                            const y = (escapeCount + 1) * 80 * (Math.random() > 0.5 ? 1 : -1);
                            cancelBtn.style.transform = `translate(${x}px, ${y}px)`;
                            cancelBtn.style.position = 'absolute';
                            escapeCount++;
                            
                            // „Ç®„Éï„Çß„ÇØ„Éà
                            cancelBtn.style.transition = 'transform 0.2s ease-out';
                            setTimeout(() => {
                                cancelBtn.style.transition = 'all 0.3s';
                            }, 200);
                            
                            return false;
                        } else if (escapeCount === 2) {
                            // 3ÂõûÁõÆÔºö„Éú„Çø„É≥„ÇíÂÖ•„ÇåÊõø„Åà„ÇãÔºÅ
                            e.preventDefault();
                            container.style.flexDirection = container.style.flexDirection === 'row-reverse' ? 'row' : 'row-reverse';
                            cancelBtn.style.transform = '';
                            cancelBtn.style.position = 'relative';
                            cancelBtn.style.background = '#ff0000';
                            cancelBtn.textContent = 'Ëß£Á¥Ñ„Åô„ÇãÔºàÊú¨Áâ©Ôºâ';
                            stayBtn.style.background = '#ff4757';
                            stayBtn.textContent = '„Åì„Çå„ÅØËß£Á¥Ñ„Éú„Çø„É≥';
                            escapeCount++;
                            return false;
                        }
                    };
                    cancelBtn.style.cursor = 'pointer';
                    break;
                
                case 'doubleSwap':
                    container.style.flexDirection = 'row-reverse';
                    cancelBtn.style.padding = '8px 15px';
                    cancelBtn.style.fontSize = '12px';
                    break;
                
                case 'tiny':
                    cancelBtn.style.padding = '2px 4px';
                    cancelBtn.style.fontSize = '6px';
                    stayBtn.style.padding = '30px 100px';
                    stayBtn.style.fontSize = '28px';
                    break;
                
                case 'dodge':
                    cancelBtn.onmousemove = (e) => {
                        if (dodgeCount < 5) {
                            const x = Math.random() * 400 - 200;
                            const y = Math.random() * 200 - 100;
                            cancelBtn.style.transform = `translate(${x}px, ${y}px)`;
                            cancelBtn.style.position = 'absolute';
                            dodgeCount++;
                        }
                    };
                    break;
                
                case 'shake':
                    cancelBtn.style.animation = 'shake 0.3s infinite';
                    cancelBtn.style.fontSize = '10px';
                    break;
                
                case 'invisible':
                    cancelBtn.style.background = '#fefefe';
                    cancelBtn.style.color = '#fafafa';
                    cancelBtn.style.border = '1px solid #f9f9f9';
                    cancelBtn.style.padding = '3px 6px';
                    cancelBtn.style.fontSize = '7px';
                    break;
                
                case 'spin':
                    cancelBtn.style.animation = 'spin 2s linear infinite';
                    container.style.flexDirection = 'row-reverse';
                    break;
                
                case 'multipleButtons':
                    for (let i = 0; i < 5; i++) {
                        const fake = document.createElement('button');
                        fake.className = 'fake-btn';
                        fake.textContent = 'Ëß£Á¥Ñ„Åô„Çã';
                        fake.style.left = `${Math.random() * 80}%`;
                        fake.style.top = `${Math.random() * 50}px`;
                        fake.onclick = () => fake.remove();
                        container.appendChild(fake);
                    }
                    cancelBtn.style.padding = '5px 10px';
                    cancelBtn.style.fontSize = '9px';
                    break;
                
                case 'moveAway':
                    cancelBtn.onmousemove = () => {
                        const x = Math.random() * 500 - 250;
                        const y = Math.random() * 300 - 150;
                        cancelBtn.style.transform = `translate(${x}px, ${y}px)`;
                        cancelBtn.style.position = 'absolute';
                    };
                    cancelBtn.style.padding = '4px 8px';
                    cancelBtn.style.fontSize = '8px';
                    break;
                
                case 'fastMove':
                    cancelBtn.style.animation = 'float 0.5s infinite';
                    cancelBtn.onmouseenter = () => {
                        const x = Math.random() * 600 - 300;
                        const y = Math.random() * 400 - 200;
                        cancelBtn.style.transform = `translate(${x}px, ${y}px)`;
                        cancelBtn.style.position = 'absolute';
                    };
                    break;
                
                case 'superTiny':
                    cancelBtn.style.padding = '1px 2px';
                    cancelBtn.style.fontSize = '4px';
                    cancelBtn.style.opacity = '0.3';
                    container.style.flexDirection = 'row-reverse';
                    break;
                
                case 'hideAndSeek':
                    let blinkInterval = setInterval(() => {
                        cancelBtn.style.opacity = cancelBtn.style.opacity === '0.1' ? '1' : '0.1';
                    }, 600);
                    cancelBtn.onclick = () => {
                        clearInterval(blinkInterval);
                        nextStep();
                    };
                    cancelBtn.style.padding = '10px 20px';
                    cancelBtn.style.fontSize = '14px';
                    break;
                
                case 'crazyMove':
                    let moveInterval = setInterval(() => {
                        const x = Math.random() * 400 - 200;
                        const y = Math.random() * 200 - 100;
                        cancelBtn.style.transform = `translate(${x}px, ${y}px)`;
                        cancelBtn.style.position = 'absolute';
                    }, 800);
                    cancelBtn.onclick = () => {
                        clearInterval(moveInterval);
                        nextStep();
                    };
                    cancelBtn.style.padding = '8px 15px';
                    cancelBtn.style.fontSize = '12px';
                    break;
                
                case 'rotate':
                    cancelBtn.style.animation = 'spin 1s linear infinite';
                    cancelBtn.style.padding = '4px 7px';
                    cancelBtn.style.fontSize = '7px';
                    cancelBtn.style.opacity = '0.4';
                    container.style.flexDirection = 'row-reverse';
                    break;
                
                case 'flash':
                    setInterval(() => {
                        cancelBtn.style.display = cancelBtn.style.display === 'none' ? 'block' : 'none';
                    }, 200);
                    break;
                
                case 'chaos':
                    // ÂÅΩ„Éú„Çø„É≥„ÅØ5ÂÄã„Å´Ê∏õ„Çâ„Åô
                    for (let i = 0; i < 5; i++) {
                        const fake = document.createElement('button');
                        fake.className = 'fake-btn';
                        fake.textContent = 'Ëß£Á¥Ñ';
                        fake.style.left = `${Math.random() * 90}%`;
                        fake.style.top = `${Math.random() * 80}px`;
                        fake.style.padding = '8px 12px';
                        fake.style.fontSize = '12px';
                        fake.onclick = () => fake.remove();
                        container.appendChild(fake);
                    }
                    cancelBtn.style.padding = '8px 12px';
                    cancelBtn.style.fontSize = '12px';
                    cancelBtn.style.opacity = '0.8';
                    break;
                
                case 'ultimate':
                    // ÊúÄÁµÇÂΩ¢ÊÖãÔºö3ÂõûÈÅø„Åë„Å¶„Åã„ÇâÊçï„Åæ„Åà„Çã
                    cancelBtn.onmousemove = (e) => {
                        if (dodgeCount < 3) {
                            const x = Math.random() * 400 - 200;
                            const y = Math.random() * 200 - 100;
                            cancelBtn.style.transform = `translate(${x}px, ${y}px)`;
                            cancelBtn.style.position = 'absolute';
                            dodgeCount++;
                        } else {
                            // 3ÂõûÈÅø„Åë„Åü„ÇâÊçï„Åæ„Åà„ÇÑ„Åô„Åè„Åô„Çã
                            cancelBtn.style.padding = '10px 20px';
                            cancelBtn.style.fontSize = '14px';
                            cancelBtn.style.opacity = '1';
                            cancelBtn.style.background = '#ff4757';
                            cancelBtn.onmousemove = null;
                        }
                    };
                    cancelBtn.style.padding = '5px 10px';
                    cancelBtn.style.fontSize = '10px';
                    cancelBtn.style.opacity = '0.6';
                    container.style.flexDirection = 'row-reverse';
                    break;
            }
        }

        function nextStep() {
            if (step >= 21) {
                clearTricks();
                document.getElementById('emoji').textContent = 'üò≠';
                document.getElementById('title').textContent = 'Ëß£Á¥ÑÂÆå‰∫Ü...';
                document.getElementById('message').textContent = '„Çà„Åè„Åì„Åì„Åæ„ÅßËæø„ÇäÁùÄ„Åç„Åæ„Åó„Åü...Êú¨ÂΩì„Å´„ÅäÁñ≤„ÇåÊßò„Åß„Åó„Åü...';
                document.getElementById('extra-content').innerHTML = '';
                container.style.display = 'none';
                document.getElementById('progress').textContent = 'Ëß£Á¥ÑÂá¶ÁêÜÂÆå‰∫Ü';
                return;
            }

            const currentStep = steps[step];
            document.getElementById('emoji').textContent = currentStep.emoji;
            document.getElementById('title').textContent = currentStep.title;
            document.getElementById('message').textContent = currentStep.message;
            
            if (currentStep.discount) {
                document.getElementById('extra-content').innerHTML = 
                    `<div class="discount">${currentStep.discount}</div>`;
            } else {
                document.getElementById('extra-content').innerHTML = '';
            }

            applyTrick(currentStep.trick);

            step++;
            document.getElementById('progress').textContent = `„Çπ„ÉÜ„ÉÉ„Éó ${step}/21`;
        }

        function stayWithUs() {
            clearTricks();
            document.getElementById('emoji').textContent = 'üéâ';
            document.getElementById('title').textContent = '„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅ';
            document.getElementById('message').textContent = 'Âºï„ÅçÁ∂ö„Åç„ÅîÂà©Áî®„ÅÑ„Åü„Å†„Åë„Çã„Åì„Å®„ÇíÂ¨â„Åó„ÅèÊÄù„ÅÑ„Åæ„ÅôÔºÅÁ¥†Êô¥„Çâ„Åó„ÅÑÈÅ∏Êäû„Åß„ÅôÔºÅ';
            document.getElementById('extra-content').innerHTML = '';
            document.querySelector('.btn-container').style.display = 'none';
            document.getElementById('progress').textContent = 'Á∂ôÁ∂öÊ±∫ÂÆöÔºÅ';
        }
    </script>
</body>
</html>